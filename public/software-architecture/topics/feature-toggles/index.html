<!DOCTYPE html>
<html lang="en-us" dir="ltr">
<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="
  Feature Toggles
  
  #
  

Note: Also known as Feature Flags.
These are not necessarily architecture domain specific, but they allow for a smooth transition in evolutionary architecture. Especially the operational toggles require maybe some architectural consideration if they make sense.
The following part is basically a summary of this awesome Martin Fowler Entry by Pete Hodgson.

  Why Use?
  
  #
  


Code Branch Management: By shipping new code to production, hidden under a toggle, you can limit the amount of long-lived branches. Also known as dark deployments.
Test In Production: Test features in production with a limited set of users. Allowing for A/B testing or canary releases.
Flighting: Incremental roll out of new functionality.
Kill Switch: Turn of certain functionality without redeploying, like a circuit breaker. When the load is to high, you can switch off certain features that are resource intensive (e.g. a recommendation service).


  Categories
  
  #
  

It can be tempting to lump all feature toggles into the same bucket, but this is a dangerous path. The design forces at play for different categories of toggles are quite different and managing them all in the same way can lead to pain down the road. It can be tempting to lump all feature toggles into the same bucket, but this is a dangerous path. The design forces at play for different categories of toggles are quite different and managing them all in the same way can lead to pain down the road.">
<meta name="theme-color" media="(prefers-color-scheme: light)" content="#ffffff">
<meta name="theme-color" media="(prefers-color-scheme: dark)" content="#343a40">
<meta name="color-scheme" content="light dark"><meta property="og:url" content="http://localhost:1313/software-architecture/topics/feature-toggles/">
  <meta property="og:site_name" content="Knowledgebase">
  <meta property="og:title" content="Knowledgebase">
  <meta property="og:description" content="Feature Toggles # Note: Also known as Feature Flags.
These are not necessarily architecture domain specific, but they allow for a smooth transition in evolutionary architecture. Especially the operational toggles require maybe some architectural consideration if they make sense.
The following part is basically a summary of this awesome Martin Fowler Entry by Pete Hodgson.
Why Use? # Code Branch Management: By shipping new code to production, hidden under a toggle, you can limit the amount of long-lived branches. Also known as dark deployments. Test In Production: Test features in production with a limited set of users. Allowing for A/B testing or canary releases. Flighting: Incremental roll out of new functionality. Kill Switch: Turn of certain functionality without redeploying, like a circuit breaker. When the load is to high, you can switch off certain features that are resource intensive (e.g. a recommendation service). Categories # It can be tempting to lump all feature toggles into the same bucket, but this is a dangerous path. The design forces at play for different categories of toggles are quite different and managing them all in the same way can lead to pain down the road. It can be tempting to lump all feature toggles into the same bucket, but this is a dangerous path. The design forces at play for different categories of toggles are quite different and managing them all in the same way can lead to pain down the road.">
  <meta property="og:locale" content="en_us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="software-architecture">
<title>Feature Toggles | Knowledgebase</title>
<link rel="icon" href="/favicon.png" >
<link rel="manifest" href="/manifest.json">
<link rel="canonical" href="http://localhost:1313/software-architecture/topics/feature-toggles/">
<link rel="stylesheet" href="/book.min.866fe3b5cf39ea9e02248ffa9697b15426d589b2a9d1a1c5445b50cf172c641d.css" integrity="sha256-hm/jtc856p4CJI/6lpexVCbVibKp0aHFRFtQzxcsZB0=" crossorigin="anonymous">
  <script defer src="/fuse.min.js"></script>
  <script defer src="/en.search.min.26972e289cf0c4087788158e310ef918185c87f0191b6e85abd5c6be7f9a2edd.js" integrity="sha256-JpcuKJzwxAh3iBWOMQ75GBhch/AZG26Fq9XGvn&#43;aLt0=" crossorigin="anonymous"></script>
<!--
Made with Book Theme
https://github.com/alex-shpak/hugo-book
-->
  
</head>
<body dir="ltr" class="book-kind-page book-type-software-architecture book-layout-">
  <input type="checkbox" class="hidden toggle" id="menu-control" />
  <input type="checkbox" class="hidden toggle" id="toc-control" />
  <main class="container flex">
    
<aside class="book-menu">
  <div class="book-menu-content">
    
  <nav>
<h2 class="book-brand">
  <a class="flex align-center" href="/"><span>Knowledgebase</span>
  </a>
</h2>


<div class="book-search hidden">
  <input type="text" id="book-search-input" placeholder="Search" aria-label="Search" maxlength="64" data-hotkeys="s/" />
  <div class="book-search-spinner hidden"></div>
  <ul id="book-search-results"></ul>
</div>
<script>document.querySelector(".book-search").classList.remove("hidden")</script>















  
  <ul>
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-e5f62e7c7cdb1036e45df02260144099" class="toggle"  />
    <label for="section-e5f62e7c7cdb1036e45df02260144099" class="flex">
      <a href="/azure/" class="flex-auto ">Azure</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/azure/az-300-notes/" class="">Az 300 Notes</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/azure/az-300/" class="">Az 300</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-3ffbfdbde140576d9f074ff50396f562" class="toggle"  />
    <label for="section-3ffbfdbde140576d9f074ff50396f562" class="flex">
      <a href="/business/" class="flex-auto ">Business</a>
    </label>
  

          
  <ul>
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-3c8647f839e999b7a6298918f774b8cd" class="toggle"  />
    <label for="section-3c8647f839e999b7a6298918f774b8cd" class="flex">
      <a href="/career/" class="flex-auto ">Career</a>
    </label>
  

          
  <ul>
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-26cea5b7eeb0c8a351c3f47bd5d16991" class="toggle"  />
    <label for="section-26cea5b7eeb0c8a351c3f47bd5d16991" class="flex">
      <a href="/change-management/" class="flex-auto ">Change Management</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/change-management/patterns/" class="">Patterns</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-a078b2e564583a7361772de72985e006" class="toggle"  />
    <label for="section-a078b2e564583a7361772de72985e006" class="flex">
      <a href="/coaching/" class="flex-auto ">Coaching</a>
    </label>
  

          
  <ul>
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-4dfc82ddbe95cc08d0f882cda0d7d567" class="toggle"  />
    <label for="section-4dfc82ddbe95cc08d0f882cda0d7d567" class="flex">
      <a href="/communication/" class="flex-auto ">Communication</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/communication/change-management/" class="">Change Management</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/communication/modes/" class="">Modes</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/communication/presenting/" class="">Presenting</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/communication/propaganda/" class="">Propaganda</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/communication/writing/" class="">Writing</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-be39247e81b1efaad9c6a55873f1c90e" class="toggle"  />
    <label for="section-be39247e81b1efaad9c6a55873f1c90e" class="flex">
      <a href="/cybersecurity/" class="flex-auto ">Cybersecurity</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/cybersecurity/application-security/" class="">Application Security</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/cybersecurity/cloud-and-virtualization-security/" class="">Cloud and Virtualization Security</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/cybersecurity/cryptography-and-kpi/" class="">Cryptography and Kpi</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/cybersecurity/digital-forensics/" class="">Digital Forensics</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/cybersecurity/endpoint-security/" class="">Endpoint Security</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/cybersecurity/general-concepts/" class="">General Concepts</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/cybersecurity/identity-and-access-management/" class="">Identity and Access Management</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/cybersecurity/malware-types/" class="">Malware Types</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/cybersecurity/monitoring-and-incident-response/" class="">Monitoring and Incident Response</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/cybersecurity/network-security/" class="">Network Security</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/cybersecurity/password-attacks/" class="">Password Attacks</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/cybersecurity/privacy/" class="">Privacy</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/cybersecurity/resilience-and-physical-security/" class="">Resilience and Physical Security</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/cybersecurity/resources/" class="">Resources</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/cybersecurity/risk-management/" class="">Risk Management</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/cybersecurity/security-assesment-and-testing/" class="">Security Assesment and Testing</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/cybersecurity/security-governance-and-compliance/" class="">Security Governance and Compliance</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/cybersecurity/social-engineering/" class="">Social Engineering</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/cybersecurity/threat-landscape/" class="">Threat Landscape</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/cybersecurity/wireless-and-mobile-security/" class="">Wireless and Mobile Security</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-81aaadc4a6f20468960704bb65527a83" class="toggle"  />
    <label for="section-81aaadc4a6f20468960704bb65527a83" class="flex">
      <a href="/data-struct-algo/" class="flex-auto ">Data Struct Algo</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/data-struct-algo/algorithms/binary-search/" class="">Binary Search</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/data-struct-algo/algorithms/bubble-sort/" class="">Bubble Sort</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/data-struct-algo/algorithms/graph/" class="">Graph</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/data-struct-algo/algorithms/insertion-sort/" class="">Insertion Sort</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/data-struct-algo/algorithms/linear-search/" class="">Linear Search</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/data-struct-algo/algorithms/quick-sort/" class="">Quick Sort</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/data-struct-algo/algorithms/selection-sort/" class="">Selection Sort</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/data-struct-algo/big-o/" class="">Big O</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/data-struct-algo/data-structures/array/" class="">Array</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/data-struct-algo/data-structures/binary-tree/" class="">Binary Tree</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/data-struct-algo/data-structures/doubly-linked-list/" class="">Doubly Linked List</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/data-struct-algo/data-structures/hash-table/" class="">Hash Table</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/data-struct-algo/data-structures/queue/" class="">Queue</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/data-struct-algo/data-structures/singly-linked-list/" class="">Singly Linked List</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/data-struct-algo/data-structures/stack/" class="">Stack</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/data-struct-algo/np-completeness/" class="">Np Completeness</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-fcae99f4a8081f912981f762656a25ff" class="toggle"  />
    <label for="section-fcae99f4a8081f912981f762656a25ff" class="flex">
      <a href="/facilitation/" class="flex-auto ">Facilitation</a>
    </label>
  

          
  <ul>
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-9e5944f94d761042e0ce48d8bafd1fe7" class="toggle"  />
    <label for="section-9e5944f94d761042e0ce48d8bafd1fe7" class="flex">
      <a href="/it-strategy/" class="flex-auto ">It Strategy</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-4675e4e30643ddab2c70afb6a2ca02cd" class="toggle"  />
    <label for="section-4675e4e30643ddab2c70afb6a2ca02cd" class="flex">
      <a href="/it-strategy/platform-strategy/" class="flex-auto ">Platform Strategy</a>
    </label>
  

          
  <ul>
    
  </ul>

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-c047fd11269da2900c28f007bda5710a" class="toggle"  />
    <label for="section-c047fd11269da2900c28f007bda5710a" class="flex">
      <a href="/linux-lpic-1/" class="flex-auto ">Linux Lpic 1</a>
    </label>
  

          
  <ul>
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-52ffa23bb23b30d5ed484dfdc90b025b" class="toggle"  />
    <label for="section-52ffa23bb23b30d5ed484dfdc90b025b" class="flex">
      <a href="/network/" class="flex-auto ">Network</a>
    </label>
  

          
  <ul>
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-176491d6c50133f2ea87ec589d93b052" class="toggle"  />
    <label for="section-176491d6c50133f2ea87ec589d93b052" class="flex">
      <a href="/nodejs-streams-and-networking/" class="flex-auto ">Nodejs Streams and Networking</a>
    </label>
  

          
  <ul>
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-48b0ad26c635429f5ec6d8e1af19804e" class="toggle"  />
    <label for="section-48b0ad26c635429f5ec6d8e1af19804e" class="flex">
      <a href="/osint/" class="flex-auto ">Osint</a>
    </label>
  

          
  <ul>
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-df27f5a34fae3862434b3bd6fdc7d575" class="toggle"  />
    <label for="section-df27f5a34fae3862434b3bd6fdc7d575" class="flex">
      <a href="/productivity/" class="flex-auto ">Productivity</a>
    </label>
  

          
  <ul>
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-a57856b2920a2fb9388743881d6f6077" class="toggle"  />
    <label for="section-a57856b2920a2fb9388743881d6f6077" class="flex">
      <a href="/project-management/" class="flex-auto ">Project Management</a>
    </label>
  

          
  <ul>
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-5814dfcac8f9100c4091e4248b532eda" class="toggle"  />
    <label for="section-5814dfcac8f9100c4091e4248b532eda" class="flex">
      <a href="/psychology/" class="flex-auto ">Psychology</a>
    </label>
  

          
  <ul>
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-5fbfe8b07d702e3dd1510f4f3100c046" class="toggle"  />
    <label for="section-5fbfe8b07d702e3dd1510f4f3100c046" class="flex">
      <a href="/reasoning/" class="flex-auto ">Reasoning</a>
    </label>
  

          
  <ul>
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-caff6580ca16ac21759b6786a0c456d8" class="toggle" checked />
    <label for="section-caff6580ca16ac21759b6786a0c456d8" class="flex">
      <a href="/software-architecture/" class="flex-auto ">Software Architecture</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/software-architecture/application-architecture/readme/" class="">Readme</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/software-architecture/architecture-characteristics/readme/" class="">Readme</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/software-architecture/architecture-styles/ball-of-mud/" class="">Ball of Mud</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/software-architecture/architecture-styles/event-driven/" class="">Event Driven</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/software-architecture/architecture-styles/layered/" class="">Layered</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/software-architecture/architecture-styles/microkernel/" class="">Microkernel</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/software-architecture/architecture-styles/microservices/" class="">Microservices</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/software-architecture/architecture-styles/orchestration-driven-service-oriented/" class="">Orchestration Driven Service Oriented</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/software-architecture/architecture-styles/pipeline/" class="">Pipeline</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/software-architecture/architecture-styles/readme/" class="">Readme</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/software-architecture/architecture-styles/service-based/" class="">Service Based</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/software-architecture/architecture-styles/space-based/" class="">Space Based</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/software-architecture/blog-ideas/" class="">Blog Ideas</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/software-architecture/data-architecture/readme/" class="">Readme</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/software-architecture/integration-architecture/events/readme/" class="">Readme</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/software-architecture/integration-architecture/events/versioning/" class="">Versioning</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/software-architecture/integration-architecture/readme/" class="">Readme</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/software-architecture/nuggets-of-wisdom/" class="">Nuggets of Wisdom</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/software-architecture/resources/" class="">Resources</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/software-architecture/thought-leaders/" class="">Thought Leaders</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/software-architecture/todo/" class="">Todo</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/software-architecture/topics/anti-patterns/" class="">Anti Patterns</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/software-architecture/topics/architectural-thinking/" class="">Architectural Thinking</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/software-architecture/topics/architecture-decisions/" class="">Architecture Decisions</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/software-architecture/topics/architecture-risk/" class="">Architecture Risk</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/software-architecture/topics/best-practices/" class="">Best Practices</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/software-architecture/topics/clean-architecture/" class="">Clean Architecture</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/software-architecture/topics/components/" class="">Components</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/software-architecture/topics/conway-law/" class="">Conway Law</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/software-architecture/topics/design-principles/" class="">Design Principles</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/software-architecture/topics/diagrams-and-presentations/" class="">Diagrams and Presentations</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/software-architecture/topics/domain-driven-design/" class="">Domain Driven Design</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/software-architecture/topics/evolutionary-architecture/" class="">Evolutionary Architecture</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/software-architecture/topics/feature-toggles/" class="active">Feature Toggles</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/software-architecture/topics/how-to-do/" class="">How to Do</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/software-architecture/topics/laws-of-software-architecture/" class="">Laws of Software Architecture</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/software-architecture/topics/make-effective-teams/" class="">Make Effective Teams</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/software-architecture/topics/modules/" class="">Modules</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/software-architecture/topics/negotiation-and-leadership-skills/" class="">Negotiation and Leadership Skills</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/software-architecture/topics/software-architect-role/" class="">Software Architect Role</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/software-architecture/topics/systems-thinking/" class="">Systems Thinking</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/software-architecture/topics/team-topologies/" class="">Team Topologies</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/software-architecture/topics/threat-modeling/" class="">Threat Modeling</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-ddaebde9223642f47760ee015a7ddd45" class="toggle"  />
    <label for="section-ddaebde9223642f47760ee015a7ddd45" class="flex">
      <a href="/software-design/" class="flex-auto ">Software Design</a>
    </label>
  

          
  <ul>
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-a60f54537a5317a75e05ed7401bead6e" class="toggle"  />
    <label for="section-a60f54537a5317a75e05ed7401bead6e" class="flex">
      <a href="/software-development-process/" class="flex-auto ">Software Development Process</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/software-development-process/internal-open-source/" class="">Internal Open Source</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-ecb6eb749f789ef8ddd00db573f4f2af" class="toggle"  />
    <label for="section-ecb6eb749f789ef8ddd00db573f4f2af" class="flex">
      <a href="/software-testing/" class="flex-auto ">Software Testing</a>
    </label>
  

          
  <ul>
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-bc3d82c57976f22f86a1648d7874403c" class="toggle"  />
    <label for="section-bc3d82c57976f22f86a1648d7874403c" class="flex">
      <a href="/statistics/" class="flex-auto ">Statistics</a>
    </label>
  

          
  <ul>
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-66ae6fa4b7048361c96c02dfd54f33e8" class="toggle"  />
    <label for="section-66ae6fa4b7048361c96c02dfd54f33e8" class="flex">
      <a href="/usb-spec/" class="flex-auto ">USB Spec</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/usb-spec/terms_and_abbreviations/" class="">Terms and Abbreviations</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/wisdom/" class="">Wisdom</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <span>Ais</span>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/ai/readme/" class="">Readme</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
  </ul>










  
<ul>
  
  <li>
    
    <a href="https://github.com/SegersIan/knowledge-base"  target="_blank" rel="noopener">
        Github - Site
      </a>
  </li>
  
  <li>
    
    <a href="https://github.com/SegersIan"  target="_blank" rel="noopener">
        Github - Profile
      </a>
  </li>
  
</ul>






</nav>




  <script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script>



  </div>
</aside>
 

    <div class="book-page">
      <header class="book-header">
        
  <div class="flex align-center justify-between">
  <label for="menu-control">
    <img src="/svg/menu.svg" class="book-icon" alt="Menu" />
  </label>

  <h3>Feature Toggles</h3>

  <label for="toc-control">
    
    <img src="/svg/toc.svg" class="book-icon" alt="Table of Contents" />
    
  </label>
</div>


  
  <aside class="hidden clearfix">
    
  
<nav id="TableOfContents">
  <ul>
    <li><a href="#why-use">Why Use?</a></li>
    <li><a href="#categories">Categories</a></li>
    <li><a href="#static-vs-dynamic-toggles">Static vs Dynamic Toggles</a></li>
    <li><a href="#long-lived-vs-short-lived-toggles">Long lived vs Short Lived Toggles</a></li>
    <li><a href="#implementation-techniques">Implementation Techniques</a></li>
    <li><a href="#toggle-configuration">Toggle Configuration</a></li>
    <li><a href="#working-with-feature-flag-systems">Working with feature-flag systems</a></li>
    <li><a href="#governance">Governance</a></li>
    <li><a href="#resources">Resources</a></li>
  </ul>
</nav>



  </aside>
  
 
      </header>

      
      
  <article class="markdown book-article"><h1 id="feature-toggles">
  Feature Toggles
  
  <a class="anchor" href="#feature-toggles">#</a>
  
</h1>
<p><em>Note: Also known as Feature Flags.</em></p>
<p>These are not necessarily architecture domain specific, but they allow for a smooth transition in evolutionary architecture. Especially the operational toggles require maybe some architectural consideration if they make sense.</p>
<p>The following part is basically a summary of this awesome <a href="https://martinfowler.com/articles/feature-toggles.html">Martin Fowler Entry by Pete Hodgson</a>.</p>
<h2 id="why-use">
  Why Use?
  
  <a class="anchor" href="#why-use">#</a>
  
</h2>
<ul>
<li><strong>Code Branch Management</strong>: By shipping new code to production, hidden under a toggle, you can limit the amount of long-lived branches. Also known as <em>dark deployments</em>.</li>
<li><strong>Test In Production</strong>: Test features in production with a limited set of users. Allowing for A/B testing or canary releases.</li>
<li><strong>Flighting</strong>: Incremental roll out of new functionality.</li>
<li><strong>Kill Switch</strong>: Turn of certain functionality without redeploying, like a circuit breaker. When the load is to high, you can switch off certain features that are resource intensive (e.g. a recommendation service).</li>
</ul>
<h2 id="categories">
  Categories
  
  <a class="anchor" href="#categories">#</a>
  
</h2>
<p>It can be tempting to lump all feature toggles into the same bucket, but this is a dangerous path. The design forces at play for different categories of toggles are quite different and managing them all in the same way can lead to pain down the road. It can be tempting to lump all feature toggles into the same bucket, but this is a dangerous path. The design forces at play for different categories of toggles are quite different and managing them all in the same way can lead to pain down the road.</p>
<p><a href="https://martinfowler.com/articles/feature-toggles/chart-4.png">See Diagram</a></p>
<table>
  <thead>
      <tr>
          <th>Type</th>
          <th>Description</th>
          <th>Lifespan</th>
          <th>Dynamism</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td><strong>Release</strong></td>
          <td>Allow incomplete and un-tested codepaths to be shipped to production as latent code which may never be turned on, allowing for trunk-based development of larger features and user stories.</td>
          <td>Short - Days, Weeks<!-- raw HTML omitted --><!-- raw HTML omitted -->Release Toggles are transitionary by nature. They should generally not stick around much longer than a week or two.</td>
          <td>Typically Static<!-- raw HTML omitted --><!-- raw HTML omitted -->Changing that toggle by rolling out a new release with a toggle configuration change is usually perfectly acceptable.</td>
      </tr>
      <tr>
          <td><strong>Experiment</strong></td>
          <td>Used to perform multivariate or A/B testing. Each user of the system is placed into a cohort and at runtime the Toggle Router will consistently send a given user down one codepath or the other, based upon which cohort they are in. Commonly used to make data-driven optimizations</td>
          <td>Short - Hours, Days, Weeks<!-- raw HTML omitted --><!-- raw HTML omitted -->An Experiment Toggle needs to remain in place with the same configuration long enough to generate statistically significant results. Longer is unlikely to be useful, as other changes to the system risk invalidating the results of the experiment.</td>
          <td>Highly Dynamic<!-- raw HTML omitted --><!-- raw HTML omitted -->Each incoming request is likely on behalf of a different user and thus might be routed differently than the last.</td>
      </tr>
      <tr>
          <td><strong>Operational</strong></td>
          <td>Control operational aspects of our system&rsquo;s behavior.<!-- raw HTML omitted --><!-- raw HTML omitted -->Example: rolling out a new feature which has unclear performance implications so that system operators can disable or degrade that feature quickly in production if needed.</td>
          <td>Short to Long - Weeks, Months, Years<!-- raw HTML omitted --><!-- raw HTML omitted -->Once confidence is gained in the operational aspects of a new feature the flag should be retired. However it&rsquo;s not uncommon for systems to have a small number of long-lived &ldquo;Kill Switches&rdquo; which allow operators of production environments to gracefully degrade non-vital system functionality when the system is enduring unusually high load.<!-- raw HTML omitted --><!-- raw HTML omitted -->These types of long-lived Ops Toggles could be seen as a manually-managed Circuit Breaker.</td>
          <td>Dynamic<!-- raw HTML omitted --><!-- raw HTML omitted -->The purpose of these flags is to allow operators to quickly react to production issues they need to be re-configured extremely quickly.</td>
      </tr>
      <tr>
          <td><strong>Permission</strong></td>
          <td>Used to change the features or product experience that certain users receive. A Canary Released feature is exposed to a randomly selected cohort of users while a Champagne Brunch feature is exposed to a specific set of users.</td>
          <td>Long - Months, Years<!-- raw HTML omitted --><!-- raw HTML omitted -->When used as a way to manage a feature which is only exposed to premium users a Permissioning Toggle may be very-long lived compared.</td>
          <td>Highly Dynamic<!-- raw HTML omitted --><!-- raw HTML omitted -->Each incoming request is likely on behalf of a different user and thus might be routed differently than the last.</td>
      </tr>
  </tbody>
</table>
<h2 id="static-vs-dynamic-toggles">
  Static vs Dynamic Toggles
  
  <a class="anchor" href="#static-vs-dynamic-toggles">#</a>
  
</h2>
<ul>
<li>Dynamic: Toggles which are making runtime routing decisions necessarily need more sophisticated Toggle Routers, along with more complex configuration for those routers.</li>
<li>Static: Can be a simple config file, no need for a sophisticated Toggle Routers</li>
</ul>
<h2 id="long-lived-vs-short-lived-toggles">
  Long lived vs Short Lived Toggles
  
  <a class="anchor" href="#long-lived-vs-short-lived-toggles">#</a>
  
</h2>
<ul>
<li>Short Lived: A simple if/else check on a Toggle Router would suffice.</li>
<li>Long Lived: We need more maintainable implementation techniques.</li>
</ul>
<h2 id="implementation-techniques">
  Implementation Techniques
  
  <a class="anchor" href="#implementation-techniques">#</a>
  
</h2>
<p>Feature Flags seem to beget rather messy Toggle Point code, and these Toggle Points also have a tendency to proliferate throughout a codebase.</p>
<ul>
<li>De-coupling decision points from decision logic.</li>
<li>Inversion of Decision.</li>
<li>Avoiding conditionals.</li>
</ul>
<h2 id="toggle-configuration">
  Toggle Configuration
  
  <a class="anchor" href="#toggle-configuration">#</a>
  
</h2>
<ul>
<li>Dynamic Routing vs Dynamic Configuration: When highly dynamic, there is still a distinction between &ldquo;Routing&rdquo; (e.g. for user X, experiment/permission toggle is Y) and &ldquo;Re-Configuring&rdquo; (e.g. Disable feature x because of high server load). The dynamic routing logic itself in itself might have a configuration that is fairly static (e.g. the formula/algorithm that decides in which cohort users land for an experiment toggle).</li>
<li>Prefer Static Configuration: Managing toggle configuration via source control and re-deployments is preferable, if the nature of the feature flag allows it. Managing toggle configuration via source control gives us the same benefits that we get by using source control for things like infrastructure as code and the code base itself.</li>
<li>Approaches for managing toggle configuration:
<ul>
<li>Hardcoded Toggle Configuration: Comment/Uncomment blocks of code. (requiring to rebuild and redeploy)</li>
<li>Parameterized Toggle Configuration: Commandline arguments or environment variables. (not requiring to rebuild, but requires redeploy or process restart)</li>
<li>Toggle Configuration File: Use a configuration file, could be part of more general application configuration. (not requiring to rebuild, but requires redeploy)</li>
<li>Toggle Configuration in App DB: Centralized database with configuration.  (not requiring to rebuild, nor requires redeploy)</li>
<li>Distributed Toggle Configuration: For HA, a database with configuration like Zookoper, etcd, or Consul.  (not requiring to rebuild, nor requires redeploy)</li>
<li>Overriding Configuration: You might have a defeault configuration (any from above) along with overrides based on a specific scope (e.g. Environment Specific, Per-request).</li>
</ul>
</li>
</ul>
<h2 id="working-with-feature-flag-systems">
  Working with feature-flag systems
  
  <a class="anchor" href="#working-with-feature-flag-systems">#</a>
  
</h2>
<p>While feature toggling is absolutely a helpful technique it does also bring additional complexity. There are a few techniques which can help make life easier when working with a feature-flagged system.</p>
<ul>
<li>Expose current feature toggle configuration: Making is visible/accessible to know the current toggle configuration (e.g. dashboard).</li>
<li>Take advantage of structured Toggle configuration files: Make human readable and understandable descriptions + maybe a contact person.</li>
<li>Manage different toggles differently:
<ul>
<li>You might keep release toggles in your version control repo, but the operational toggles on a dynamic configuration.</li>
<li>Toggles can transition from category to category over time, which means you might need to refactor how the configuration is done.
<ul>
<li>
<ul>
<li>E.g A feature toggle became a permission toggle.</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>Feature Toggles introduce validation complexity (testing): Each toggle introduces new branches on the code baths. With multiple toggles in play we have a combinatoric explosion of possible toggle states. Happily, the situation isn&rsquo;t as bad as some testers might initially imagine. It is not necessary to test <em>every</em> possible combination. Most feature flags will not interact with each other, and most releases will not involve a change to the configuration of more than one feature flag.</li>
<li>TIP: a good convention is to enable existing or legacy behavior when a Feature Flag is Off and new or future behavior when it&rsquo;s On.</li>
<li>Where to place your toggle:
<ul>
<li>Toggles at the edge: Ideal for per-request context (Experiment/Permission Toggles)</li>
<li>Toggles in the core: Usually technical in nature, and control how some functionality is implemented internally. Localizing these toggling decisions is more sensible.
<ul>
<li>E.g. a Release Toggle which controls whether to use a new piece of caching infrastructure in front of a third-party API.</li>
</ul>
</li>
</ul>
</li>
<li>Managing the Carrying cost of Featue Toggles: Savvy teams view their Feature Toggles as inventory which comes with a carrying cost, and work to keep that inventory as low as possible</li>
</ul>
<h2 id="governance">
  Governance
  
  <a class="anchor" href="#governance">#</a>
  
</h2>
<p>Governance can be defined as the establishment of policies around the how/what/why/when of your feature flag implementation.</p>
<ul>
<li><strong>Limit Feature Flag Lifetimes to Minimize Technical Debt</strong>: Based on their category/type, their lifecycle should be short or can be longer, make sure to follow this up.</li>
<li><strong>Defining Access Controls for Flags</strong>: Make sure that ignorant or unaware developers can flip the wrong switches. In addition, you might introduce some &ldquo;2-step&rdquo; verification, so another developer must approve your change of the feature toggle. This is more applicable in highly regulated industries.</li>
<li><strong>Define, Document and Communicate Ownership Model</strong>: Crisp ownership over who implements, rolls out, and maintains each flag must be absolutely clear. Some examples:
<ul>
<li>Most Common: The dev team owns implementation and maintenance; product team owns communication and the controls of the rollout.</li>
<li>Operational Flags acting as circuit breakers: DevOps or SRE may own the maintenance and communication.</li>
</ul>
</li>
<li><strong>Use TAGS if supported</strong>: Tags are in the cloud world excellent metadata tools to tag any resources (like a feature toggle) with any arbitrary metadata that can help with the governance. E.g. The Owner, the category, description, maybe any dependencies.</li>
<li><strong>Visibility</strong>: We want visibility of feature flags, their state, and if possible, their interdependencies, their category, and their lifetime. Ways to do this:
<ul>
<li>Dedicated feature flag dashboard</li>
<li>Feature Flag dashboard integrated with your continuous delivery (CD).</li>
</ul>
</li>
<li><strong>Auditability</strong>: The ability to audit the feature flags, when they existed and what their values were over time, who made these modifications, and who might have approved these modifications. Very useful to troubleshoot issues.</li>
<li><strong>Policy As Code</strong>: Leverage Policy As Code if available for your Feature Flag platform.</li>
</ul>
<h2 id="resources">
  Resources
  
  <a class="anchor" href="#resources">#</a>
  
</h2>
<ul>
<li><a href="https://martinfowler.com/articles/feature-toggles.html">Martin Fowler Entry by Pete Hodgson</a></li>
<li><a href="https://dougseven.com/2014/04/17/knightmare-a-devops-cautionary-tale/">A feature flag horror story</a></li>
<li><a href="https://www.optimizely.com/insights/blog/feature-flag-types-governance-optimizely/">Optimizely: Feature Flag Governance</a></li>
<li><a href="https://learn.microsoft.com/en-us/azure/azure-app-configuration/concept-feature-management">Azure App Configuration: Feature Management</a></li>
<li><a href="https://www.qovery.com/blog/feature-flags-management-with-ephemeral-environments">Feature Flags &amp; Ephemeral Environments</a></li>
</ul>
</article>
 
      

      <footer class="book-footer">
        
  <div class="flex flex-wrap justify-between">





</div>





  
  
  
  <div class="flex flex-wrap justify-between">
    <span>
    
      <a href="/software-architecture/topics/evolutionary-architecture/" class="flex align-center">
        <img src="/svg/backward.svg" class="book-icon" alt="Previous" title="Evolutionary Architecture" />
        <span>Evolutionary Architecture</span>
      </a>
    
    </span>
    <span>
    
      <a href="/software-architecture/topics/how-to-do/" class="flex align-center">
        <span>How to Do</span>
        <img src="/svg/forward.svg" class="book-icon" alt="Next" title="How to Do" />
      </a>
    
    </span>
  </div>
  




  <script>(function(){function e(e){const t=window.getSelection(),n=document.createRange();n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n)}document.querySelectorAll("pre code").forEach(t=>{t.addEventListener("click",function(){if(window.getSelection().toString())return;e(t.parentElement),navigator.clipboard&&navigator.clipboard.writeText(t.parentElement.textContent)})})})()</script>


 
        
      </footer>

      
  
  <div class="book-comments">

</div>
  
 
      <label for="menu-control" class="hidden book-menu-overlay"></label>
    </div>

    

<aside class="book-toc">
  <div class="book-toc-content">
    
  
<nav id="TableOfContents">
  <ul>
    <li><a href="#why-use">Why Use?</a></li>
    <li><a href="#categories">Categories</a></li>
    <li><a href="#static-vs-dynamic-toggles">Static vs Dynamic Toggles</a></li>
    <li><a href="#long-lived-vs-short-lived-toggles">Long lived vs Short Lived Toggles</a></li>
    <li><a href="#implementation-techniques">Implementation Techniques</a></li>
    <li><a href="#toggle-configuration">Toggle Configuration</a></li>
    <li><a href="#working-with-feature-flag-systems">Working with feature-flag systems</a></li>
    <li><a href="#governance">Governance</a></li>
    <li><a href="#resources">Resources</a></li>
  </ul>
</nav>



  </div>
</aside>

 
  </main>

  
</body>
</html>
















